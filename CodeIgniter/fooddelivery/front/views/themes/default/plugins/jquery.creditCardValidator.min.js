(function(){var a,b=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=jQuery,a.fn.validateCreditCard=function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;for(h=[{name:"amex",pattern:/^3[47]/,valid_length:[15]},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,valid_length:[14]},{name:"diners_club_international",pattern:/^36/,valid_length:[14]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16]},{name:"visa",pattern:/^4/,valid_length:[16]},{name:"mastercard",pattern:/^5[1-5]/,valid_length:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,valid_length:[12,13,14,15,16,17,18,19]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16]}],e=!1,c&&("object"==typeof c?(d=c,e=!1,c=null):"function"==typeof c&&(e=!0)),null==d&&(d={}),null==d.accept&&(d.accept=function(){var a,b,c;for(c=[],a=0,b=h.length;b>a;a++)f=h[a],c.push(f.name);return c}()),q=d.accept,o=0,p=q.length;p>o;o++)if(g=q[o],b.call(function(){var a,b,c;for(c=[],a=0,b=h.length;b>a;a++)f=h[a],c.push(f.name);return c}(),g)<0)throw"Credit card type '"+g+"' is not supported";return i=function(a){var c,e,i;for(i=function(){var a,c,e,g;for(g=[],a=0,c=h.length;c>a;a++)f=h[a],e=f.name,b.call(d.accept,e)>=0&&g.push(f);return g}(),c=0,e=i.length;e>c;c++)if(g=i[c],a.match(g.pattern))return g;return null},k=function(a){var b,c,d,e,f,g;for(d=0,g=a.split("").reverse(),c=e=0,f=g.length;f>e;c=++e)b=g[c],b=+b,c%2?(b*=2,d+=10>b?b:b-9):d+=b;return d%10===0},j=function(a,c){var d;return d=a.length,b.call(c.valid_length,d)>=0},n=function(a){return function(a){var b,c;return g=i(a),c=!1,b=!1,null!=g&&(c=k(a),b=j(a,g)),{card_type:g,valid:c&&b,luhn_valid:c,length_valid:b}}}(this),m=function(b){return function(){var c;return c=l(a(b).val()),n(c)}}(this),l=function(a){return a.replace(/[ -]/g,"")},e?(this.on("input.jccv",function(b){return function(){return a(b).off("keyup.jccv"),c.call(b,m())}}(this)),this.on("keyup.jccv",function(a){return function(){return c.call(a,m())}}(this)),c.call(this,m()),this):m()}}).call(this);